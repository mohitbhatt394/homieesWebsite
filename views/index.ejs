<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Find the best service providers in your area for all your needs">
  <title>Home | Find Local Service Providers</title>
  <link rel="stylesheet" href="/style/main.css">
  <link rel="stylesheet" href="/style/home.css">

</head>
<body>
  <%- include('partials/navbar') %>

  <% if (success_msg) { %>
    <div class="flash-message alert-success">
      <%= success_msg %>
      <button class="close-btn" onclick="this.parentElement.style.display='none';">&times;</button>
    </div>
  <% } %>
  
  <% if (error_msg) { %>
    <div class="flash-message alert-danger">
      <%= error_msg %>
      <button class="close-btn" onclick="this.parentElement.style.display='none';">&times;</button>
    </div>
  <% } %>

  <main class="main-content">
    <div class="container">
      <h1 class="page-title visually-hidden">Service Categories</h1>
      
      <div class="categories-grid">
        <% serviceCategories.forEach((category) => { %>
          <article class="category-card">
            <a href="provider/service/<%= category.categoryName.toLowerCase().replace(/\s+/g, '-') %>" class="category-link">
              <figure class="category-image">
                <img src="<%= category.categoryImage %>" 
                     alt="<%= category.categoryName %> services" 
                     loading="lazy"
                     width="300" 
                     height="200">
              </figure>
              
              <div class="category-info">
                <h2 class="category-name"><%= category.categoryName %></h2>
              </div>
            </a>
          </article>
        <% }) %>
      </div>
    </div>
  </main>

  <script>
    setTimeout(() => {
      document.querySelectorAll('.flash-message').forEach(msg => {
        msg.style.opacity = '0';
        setTimeout(() => msg.remove(), 300); // Remove after fade out
      });
    }, 5000);
  </script>
</body>
</html>